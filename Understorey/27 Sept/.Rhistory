Y0_grouped <- aggregate(df$X0, by=list(df$Treatment,df$Plot.Number,df$Quadrat.Number,df$Fenced,df$Gap,df$Life.Form), FUN=sum)
# Visualisations
grouped <- aggregate(cbind(df$X0,df$X3,df$X6),
by=list(df$Treatment,df$Plot.Number,df$Quadrat.Number,df$Fenced,df$Gap,df$Life.Form),
FUN=sum)
hist(grouped$V1, ylim=c(0,250), xlim=c(0,80),
main='Medium Forb/Herb - Year 0',
xlab='Abundance (BB)', ylab='Number of quadrats', nclass=20)
abline(v=10, col='red')
hist(grouped$V2, ylim=c(0,250), xlim=c(0,80),
main='Medium Forb/Herb - Year 0',
xlab='Abundance (BB)', ylab='Number of quadrats', nclass=20)
abline(v=10, col='red')
hist(grouped$V3, ylim=c(0,250), xlim=c(0,80),
main='Medium Forb/Herb - Year 0',
xlab='Abundance (BB)', ylab='Number of quadrats', nclass=10)
abline(v=10, col='red')
hist(grouped$V1, ylim=c(0,230), xlim=c(0,65),
main='Medium Forb/Herb - Year 0',
xlab='Abundance (BB)', ylab='Number of quadrats')
abline(v=20, col='red')
hist(grouped$V2, ylim=c(0,230), xlim=c(0,65),
main='Medium Forb/Herb - Year 0',
xlab='Abundance (BB)', ylab='Number of quadrats')
abline(v=20, col='red')
hist(grouped$V3, ylim=c(0,230), xlim=c(0,65),
main='Medium Forb/Herb - Year 0',
xlab='Abundance (BB)', ylab='Number of quadrats')
abline(v=20, col='red')
df <- read.csv('../dataset/tables/abundance_species_for_analysis.csv')
df <- read.csv('../dataset/tables/abundance_species_for_analysis.csv')
unique(df['Life.Form'])
colnames(df)
unique(df['Life.Form'])
grouped <- aggregate(cbind(df$X0,df$X3,df$X6),
df$Life.Form, FUN=sum)
grouped <- aggregate(cbind(df$X0,df$X3,df$X6),
list(df$Life.Form), FUN=sum)
View(grouped)
plot(grouped)
plot(grouped$V1)
View(grouped)
grouped[order(grouped$V1),]
grouped[order(grouped$V1, ascending=F),]
grouped[order(grouped$V1, descending=F),]
grouped$V1, descending=F)
order(grouped$V1, descending=F)
order(grouped$V1)
?orderx
?orderdf <- df[df$Life.Form=='Medium Forb/Herb',]
?order
grouped[order(grouped$V1, decreasing=T),]
grouped <- grouped[order(grouped$V1, decreasing=T),]
grouped
plot(grouped)
boxplot(grouped)
boxplot(grouped$V1)
plot(grouped$V2)
plot(grouped$V2, col='red')
plot(grouped$V2, col='red', pch=16)
plot(grouped$V1, pch=16, ylim=c(0,6000))
points(grouped$V1, pch=16, c='red')
plot(grouped$V1, pch=16, c='red', add=T)
points(1:19,grouped$V1, pch=16, c='red')
plot(grouped$V1, pch=16, ylim=c(0,6000))
points(1:19,grouped$V1, pch=16, c='red')
points(1:18,grouped$V1, pch=16, c='red')
View(grouped)
points(1:18, grouped$V1, pch=16, c='red')
points(1:18, grouped$V1)
points(1:19, grouped$V1)
points(1:19, grouped$V2)
points(1:19, grouped$V2, col='red')
points(1:19, grouped$V2, col='red', pch=16)
points(1:19, grouped$V3, col='green', pch=16)
plot(grouped$V1, grouped$Group.1, pch=16, ylim=c(0,6000))
plot(grouped$V1, pch=16, ylim=c(0,6000))
plot(grouped$Group.1, grouped$V1, pch=16, ylim=c(0,6000))
View(df)
View(grouped)
rownames(grouped) <- grouped$Group.1
plot(grouped$V1, pch=16, ylim=c(0,6000))
plot(grouped$V1, pch=16, ylim=c(0,6000),labels=grouped$Group.1)
plot(grouped$V1, pch=16, ylim=c(0,6000),xlabels=grouped$Group.1)
?plot
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n')
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='Life Forms')
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab=''Life Forms'')
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='')
axis(1,at = 1:19, labels = grouped$Group.1)
axis(1,labels = grouped$Group.1)
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
par(mar=c(3,3,3,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='')
par(mar=c(3,3,10,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='')
par(mar=c(10,3,3,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
par(mar=c(15,3,3,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='red', pch=16)
points(1:19, grouped$V3, col='green', pch=16)
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
par(mar=c(15,3,3,6))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
par(mar=c(15,6,3,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
par(mar=c(15,4,3,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
par(mar=c(15,5,3,3))
plot(grouped$V1, pch=16, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='red', cex=0.5)
points(1:19, grouped$V3, col='green', cex=0.5)
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='red', cex=0.75)
points(1:19, grouped$V3, col='green', cex=075)
par(mar=c(15,5,3,3))
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='red', cex=0.75)
points(1:19, grouped$V3, col='green', cex=0.75)
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
col=c('black', 'red', 'green'),
cex=0.75)
?legend
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
pch=1,
col=c('black', 'red', 'green'),
cex=0.75)
points(1:19, grouped$V2, col='darkred', cex=0.75)
points(1:19, grouped$V3, col='darkgreen', cex=0.75)
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
pch=1,
col=c('black', 'darkred', 'darkgreen'),
cex=0.75)
par(mar=c(15,5,3,3))
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='darkred', cex=0.75)
points(1:19, grouped$V3, col='darkgreen', cex=0.75)
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
pch=1,
col=c('black', 'darkred', 'darkgreen'),
cex=0.75)
par(mar=c(15,5,3,3))
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='mediumorchid4', cex=0.75)
points(1:19, grouped$V3, col='mediumblue', cex=0.75)
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
pch=1,
col=c('black', 'mediumorchid4', 'mediumblue'),
cex=0.75)
?legend
par(mar=c(15,5,3,3))
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='mediumorchid4', cex=0.75)
points(1:19, grouped$V3, col='mediumblue', cex=0.75)
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='red', cex=0.75)
points(1:19, grouped$V3, col='blue', cex=0.75)
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
pch=1,
col=c('black', 'red', 'blue'),
cex=0.75)
par(mar=c(15,5,3,3))
plot(grouped$V1, cex=0.75, ylim=c(0,6000), xaxt='n', xlab='',
ylab='Sum of abundance across trial', main='Total abundance of each life form')
axis(1, at = 1:19, labels = grouped$Group.1,las=2)
points(1:19, grouped$V2, col='red', cex=0.75)
points(1:19, grouped$V3, col='blue', cex=0.75)
legend('topright',legend=c('Year 0', 'Year 3', 'Year 6'),
pch=1,
col=c('black', 'red', 'blue'),
cex=0.75)
# Load data
library(rstudioapi)
library(pROC)
library(lme4)
setwd(dirname(getActiveDocumentContext()$path))
richness_df <- read.csv('../dataset/tables/species_richness_quadrats.csv')
richness_df_plot <- read.csv('../contingency tables/output/richness/species_richness_plots.csv')
# Treatments, Plot numbers, Quadrat numbers, Life forms as factors
richness_df$Treatment <- factor(richness_df$Treatment)
richness_df$Plot.Number <- factor(richness_df$Plot.Number)
richness_df$Quadrat.Number <- factor(richness_df$Quadrat.Number)
# Convert Fenced, Gap columns to boolean
richness_df$Gap <- richness_df$Gap=='True'
richness_df$Fenced <- richness_df$Fenced=='True'
richness_df_plot$Gap <- richness_df_plot$Gap=='True'
richness_df_plot$Fenced <- richness_df_plot$Fenced=='True'
# Remove null rows
richness_df <- na.omit(richness_df)
richness_df_plot <- na.omit(richness_df_plot)
str(richness_df)
richness_Y3_01 <- glm(X3 ~ (X0 + Treatment + Gap + Fenced)^2,
family='poisson', data=richness_df)
summary(richness_Y3_01)
richness_Y3_02 <- step(richness_Y3_01)
summary(richness_Y3_02)
pchisq(263.32, 260, lower=F) # Pass
k = log(length(richness_df[,1]))
plot(richness_Y3_02)
richness_Y3_03 <- step(richness_Y3_01, k=k)
summary(richness_Y3_03)
summary(richness_Y3_02)
anova(glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + Treatment:Gap +
Treatment:Fenced, family = "poisson", data = richness_df),
glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + Treatment:Gap, family = "poisson", data = richness_df),
test='Chi')
richness_Y3_03 <- glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + Treatment:Gap, family = "poisson", data = richness_df)
summary(richness_Y3_03)
pchisq(265.356, 261, lower=F) # Pass
exp(2.428086)
exp(0.019959)
exp(-0.184323)
richness_Y6_01 <- glm(X6 ~ (X0 + X3 + Treatment + Gap + Fenced)^2,
family='poisson', data=richness_df)
summary(richness_Y6_01)
richness_Y6_02 <- step(richness_Y6_01)
summary(richness_Y6_02)
anova(richness_Y6_02, richness_Y6_01, test='Chi')
# Keep the larger model 2
summary(richness_Y6_02)
# Load data
library(rstudioapi)
library(pROC)
library(lme4)
setwd(dirname(getActiveDocumentContext()$path))
diversity_df <- read.csv('../dataset/tables/species_divers_quadrats.csv')
diversity_df_plot <- read.csv('../contingency tables/output/diversity/species_divers_plots.csv')
diversity_df_treat <- read.csv('../contingency tables/output/diversity/species_divers_treatments.csv')
# Treatments, Plot numbers, Quadrat numbers, Life forms as factors
diversity_df$Treatment <- factor(diversity_df$Treatment)
diversity_df$Plot.Number <- factor(diversity_df$Plot.Number)
diversity_df$Quadrat.Number <- factor(diversity_df$Quadrat.Number)
# Convert Fenced, Gap columns to boolean
diversity_df$Gap <- diversity_df$Gap=='True'
diversity_df$Fenced <- diversity_df$Fenced=='True'
diversity_df_plot$Gap <- diversity_df_plot$Gap=='True'
diversity_df_plot$Fenced <- diversity_df_plot$Fenced=='True'
# Remove null rows
diversity_df <- na.omit(diversity_df)
diversity_df_plot <- na.omit(diversity_df_plot)
str(diversity_df)
diversity_Y3_01 <- glm(X3 ~ (X0 + Treatment + Gap + Fenced)^2,
data=diversity_df)
summary(diversity_Y3_01)
diversity_Y3_02 <- step(diversity_Y3_01)
summary(diversity_Y3_02)
anova(diversity_Y3_02, diversity_Y3_01, test='Chi')
plot(diversity_Y3_02)
diversity_Y3_02$call
# Can't take the smaller model - Treatment, Treatment:Gap, Fenced are significant
summary(diversity_Y3_02)
anova(
glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + X0:Gap + Treatment:Gap,
data = diversity_df),
glm(formula = X3 ~ X0 + Gap + Fenced + X0:Gap,
data = diversity_df),
test='Chi')
anova(
glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + X0:Gap + Treatment:Gap,
data = diversity_df),
glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + X0:Gap,
data = diversity_df),.
test='Chi')
anova(
glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + X0:Gap + Treatment:Gap,
data = diversity_df),
glm(formula = X3 ~ X0 + Treatment + Gap + Fenced + X0:Gap,
data = diversity_df),
test='Chi')
diversity_Y6_01 <- glm(X6 ~ (X0 + X3 + Treatment + Gap + Fenced)^2,
data=diversity_df)
summary(diversity_Y6_01)
diversity_Y6_02 <- step(diversity_Y6_01)
summary(diversity_Y6_02)
anova(diversity_Y6_02, diversity_Y6_01, test='Chi')
plot(diversity_Y6_02)
summary(diversity_Y6_02)
x <- log(1:100)
plot(x)
y <- log(5:105)
plot(x~y)
y <- log(5:104)
plot(x~y)
plot(y~x)
x <- 1:100
y <- 1:104
plot(y~x, type='l')
y <- 5:104
plot(y~x, type='l')
y <- 5:104 + log(1)
x <- 1:100
y <- 5:104 + log(1)
plot(y~x, type='l')
y <- 5:104 + log(5)
plot(y~x, type='l')
y <- 5:104 + log(x)
plot(y~x, type='l')
y <- 5:104 + log(x*5)
plot(y~x, type='l')
x <- 1:100
y <- 5:104
plot(exp(y)~exp(x), type='l')
plot(exp(y)~exp(x^2), type='l')
plot(exp(y)~exp(x^2), type='l')
plot(exp(y)~exp(x), type='l')
plot(exp(y)~3*exp(x), type='l')
plot(exp(y)~2*exp(x), type='l')
plot(exp(y)~exp(x), type='l')
plot(y~x^2, type='l')
x <- 1:100
y <- 5:104
plot(y~x^2, type='l')
plot(y~x, type='l')
y <- 5:104
y <- x^2
plot(y~x, type='l')
y <- x^0.76
plot(y~x, type='l')
library(rstudioapi)
library(pROC)
library(lme4)
setwd(dirname(getActiveDocumentContext()$path))
richness_df <- read.csv('../dataset/tables/species_richness_quadrats.csv')
richness_df_plot <- read.csv('../contingency tables/output/richness/species_richness_plots.csv')
# Treatments, Plot numbers, Quadrat numbers, Life forms as factors
richness_df$Treatment <- factor(richness_df$Treatment)
richness_df$Plot.Number <- factor(richness_df$Plot.Number)
richness_df$Quadrat.Number <- factor(richness_df$Quadrat.Number)
# Convert Fenced, Gap columns to boolean
richness_df$Gap <- richness_df$Gap=='True'
richness_df$Fenced <- richness_df$Fenced=='True'
richness_df_plot$Gap <- richness_df_plot$Gap=='True'
richness_df_plot$Fenced <- richness_df_plot$Fenced=='True'
# Remove null rows
richness_df <- na.omit(richness_df)
richness_df_plot <- na.omit(richness_df_plot)
diversity_df
diversity_df
diversirty_df[1:5]
diversity_df[1:5]
cbind(diversity_df[1:5],diversity_df[6]
cbind(diversity_df[1:5],diversity_df[6])
cbind(diversity_df[1:5],diversity_df[6])
c(
cbind(diversity_df[1:5],diversity_df[6]),
cbind(diversity_df[1:5],diversity_df[7]),
cbind(diversity_df[1:5],diversity_df[8]))
diversity <- c(cbind(diversity_df[1:5],diversity_df[6]),
cbind(diversity_df[1:5],diversity_df[7]),
cbind(diversity_df[1:5],diversity_df[8]))
diversity
View(diversity)
as.matrix(cbind(diversity_df[1:5],diversity_df[6]))
diversity <- c(as.matrix(cbind(diversity_df[1:5],diversity_df[6])),
as.matrix(cbind(diversity_df[1:5],diversity_df[7])),
as.matrix(cbind(diversity_df[1:5],diversity_df[8])))
diversity
diversity
cbind(diversity_df[1:5],diversity_df[6])
diversity <- rbind(cbind(diversity_df[1:5],diversity_df[6]),
cbind(diversity_df[1:5],diversity_df[7]),
cbind(diversity_df[1:5],diversity_df[8]))
diversity_0 <- cbind(diversity_df[1:5],diversity_df[6])
names(diversity_0)
names(diversity_0) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X")
names(diversity_0)
diversity_0 <- cbind(diversity_df[1:5],diversity_df[6])
names(diversity_0) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X")
diversity_3 <- cbind(diversity_df[1:5],diversity_df[7])
names(diversity_3) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X")
diversity_6 <- cbind(diversity_df[1:5],diversity_df[8])
names(diversity_6) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X")
rbind(diversity_0, diversity_3, diversiy_6)
rbind(diversity_0, diversity_3, diversity_6)
divesity <- rbind(diversity_0, diversity_3, diversity_6)
diversity <- rbind(diversity_0, diversity_3, diversity_6)
diversity_0['Year']=0
diversity_0
diversity_0 <- cbind(diversity_df[1:5],diversity_df[6])
diversity_0['Year']=0
names(diversity_0) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
diversity_3 <- cbind(diversity_df[1:5],diversity_df[7])
diversity_3['Year'] <- 3
names(diversity_3) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
diversity_6 <- cbind(diversity_df[1:5],diversity_df[8])
diversity_6['Year'] <- 6
names(diversity_6) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
diversity <- rbind(diversity_0, diversity_3, diversity_6)
m1 <- glm(X ~ )
diversity
View(diversity)
m1 <- glm(X ~ (Treatment + Plot.Number + Quadrat.Number + Fenced + Gap + Year)^2, data=diversity)
summary(m1)
m2 <- step(m1)
m1 <- glm(X ~ (Treatment + Fenced + Gap + Year)^2, data=diversity)
summary(m1)
m2 <- step(m1)
summary(m2)
plot(m2)
summary(m2)
setwd(dirname(getActiveDocumentContext()$path))
richness_df <- read.csv('../dataset/tables/species_richness_quadrats.csv')
richness_df_plot <- read.csv('../contingency tables/output/richness/species_richness_plots.csv')
# Treatments, Plot numbers, Quadrat numbers, Life forms as factors
richness_df$Treatment <- factor(richness_df$Treatment)
richness_df$Plot.Number <- factor(richness_df$Plot.Number)
richness_df$Quadrat.Number <- factor(richness_df$Quadrat.Number)
# Convert Fenced, Gap columns to boolean
richness_df$Gap <- richness_df$Gap=='True'
richness_df$Fenced <- richness_df$Fenced=='True'
richness_df_plot$Gap <- richness_df_plot$Gap=='True'
richness_df_plot$Fenced <- richness_df_plot$Fenced=='True'
# Remove null rows
richness_df <- na.omit(richness_df)
richness_df_plot <- na.omit(richness_df_plot)
library(rstudioapi)
library(pROC)
library(lme4)
setwd(dirname(getActiveDocumentContext()$path))
richness_df <- read.csv('../dataset/tables/species_richness_quadrats.csv')
richness_df_plot <- read.csv('../contingency tables/output/richness/species_richness_plots.csv')
# Treatments, Plot numbers, Quadrat numbers, Life forms as factors
richness_df$Treatment <- factor(richness_df$Treatment)
richness_df$Plot.Number <- factor(richness_df$Plot.Number)
richness_df$Quadrat.Number <- factor(richness_df$Quadrat.Number)
# Convert Fenced, Gap columns to boolean
richness_df$Gap <- richness_df$Gap=='True'
richness_df$Fenced <- richness_df$Fenced=='True'
richness_df_plot$Gap <- richness_df_plot$Gap=='True'
richness_df_plot$Fenced <- richness_df_plot$Fenced=='True'
# Remove null rows
richness_df <- na.omit(richness_df)
richness_df_plot <- na.omit(richness_df_plot)
richness_df
richness_0 <- cbind(richness_df[1:5],richness_df[6])
richness_0['Year']=0
names(richness_0) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
richness_3 <- cbind(richness_df[1:5],richness_df[7])
richness_3['Year'] <- 3
names(richness_3) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
richness_6 <- cbind(richness_df[1:5],richness_df[8])
richness_6['Year'] <- 6
names(richness_6) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
richness <- rbind(richness_0, richness_3, richness_6)
m1 <- glm(X ~ (Treatment + Fenced + Gap + Year)^2, family='poisson', data=richness)
summary(m1)
m2 <- step(m1)
summary(m2)
plot(m2)
library(rstudioapi)
library(pROC)
library(lme4)
setwd(dirname(getActiveDocumentContext()$path))
diversity_df <- read.csv('../dataset/tables/species_divers_quadrats.csv')
diversity_df_plot <- read.csv('../contingency tables/output/diversity/species_divers_plots.csv')
diversity_df_treat <- read.csv('../contingency tables/output/diversity/species_divers_treatments.csv')
# Treatments, Plot numbers, Quadrat numbers, Life forms as factors
diversity_df$Treatment <- factor(diversity_df$Treatment)
diversity_df$Plot.Number <- factor(diversity_df$Plot.Number)
diversity_df$Quadrat.Number <- factor(diversity_df$Quadrat.Number)
# Convert Fenced, Gap columns to boolean
diversity_df$Gap <- diversity_df$Gap=='True'
diversity_df$Fenced <- diversity_df$Fenced=='True'
diversity_df_plot$Gap <- diversity_df_plot$Gap=='True'
diversity_df_plot$Fenced <- diversity_df_plot$Fenced=='True'
# Remove null rows
diversity_df <- na.omit(diversity_df)
diversity_df_plot <- na.omit(diversity_df_plot)
diversity_df
diversity_0 <- cbind(diversity_df[1:5],diversity_df[6])
diversity_0['Year']=0
names(diversity_0) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
diversity_3 <- cbind(diversity_df[1:5],diversity_df[7])
diversity_3['Year'] <- 3
names(diversity_3) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
diversity_6 <- cbind(diversity_df[1:5],diversity_df[8])
diversity_6['Year'] <- 6
names(diversity_6) <- c("Treatment", "Plot.Number", 'Quadrat.Number', "Fenced", "Gap", "X", 'Year')
diversity <- rbind(diversity_0, diversity_3, diversity_6)
diversity
View(diversity)
m1 <- glm(X ~ (Treatment + Fenced + Gap + Year)^2, data=diversity)
summary(m1)
m2 <- step(m1)
summary(m2)
plot(m2)
